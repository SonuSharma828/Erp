{% extends 'base.html' %}

{% block title %}Voucher History {% endblock %}
{% load custom_filters %}
{% block navcontent %}
            {% if request.user.is_authenticated %}
  {% if request.user.is_superuser %}
    {% include 'dashboard/admin.html' %}
  {% elif request.user.department %}
    {% if request.user.department.department_name|strip_lower == "finance" %}
      {% include 'dashboard/finance.html' %}
    {% endif %}
  {% endif %}
{% endif %}
{% endblock %}

{% block content %}

    <h1 class="text-3xl font-bold mb-5">Voucher List</h1>
           <a href="{% url 'create_voucher' %}" class="px-4 py-2 bg-blue-700 text-white rounded hover:bg-blue-800 whitespace-nowrap">Add New Voucher</a>
    <table class="table-auto w-full bg-white rounded-xl overflow-hidden shadow">
        <thead class="bg-gray-200">
            <tr>
                <th class="p-2">Voucher Type</th>
                <th class="p-2">Amount</th>
                <th class="p-2">Date</th>
                <th class="p-2">Payment Mode</th>
                <th class="p-2">Description</th>
                <th class="p-2">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for voucher in vouchers %}
            <tr class="border-t">
                <td class="p-2 text-center">{{ voucher.voucher_type|title }}</td>
                <td class="p-2 text-center">â‚¹ {{ voucher.amount }}</td>
                <td class="p-2 text-center">{{ voucher.transaction_date }}</td>
                <td class="p-2 text-center">{{ voucher.payment_mode }}</td>
                <td class="p-2 text-center">{{ voucher.description|title }}</td>
                <td class="p-2 text-center">
                    <a href="{% url 'edit_voucher' voucher.pk %}" class="inline-block bg-blue-500 text-white text-sm px-3 py-1 rounded hover:bg-blue-600">Edit</a>
                    <a href="{% url 'delete_voucher' voucher.pk %}" class="inline-block bg-red-500 text-white text-sm px-3 py-1 rounded hover:bg-red-600" onclick="return confirm('Are you sure you want to delete this task?');">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

{%  endblock %}
